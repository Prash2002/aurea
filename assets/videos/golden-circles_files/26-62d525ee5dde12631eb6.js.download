(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[26],{"+HMQ":function(e,t,n){"use strict";n("q1tI");var r=n("zLLH");t.a=Object(r.c)({name:"BoardInvitesResource",options:function(e){return{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}},key:"invites"})((function(e){var t=e.board,n=(t.id,t.owner),r=e.invites,o=r.data,a=r.isLoaded,i=e.children,c=n.image_key||n.image_medium_url||n.image_small_url,l=[{name:n.full_name,src:c,href:"/".concat(n.username,"/"),isDim:!1}];return a&&o&&o.length>0&&o.forEach((function(e){l.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),i(l)}))},"+wrf":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("ViqK"),c=n("Ye/N"),l=n("joD6"),s=n("xdpg"),u=n("n6mq");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,o,a=p(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"getSubtitleText",value:function(e,t,n){var r=this.props.invite.invited_by_user.full_name;return e?c.a._("That's you","subtext for current user who requested to join this board","subtext for current user who requested to join this board"):t?c.a._("Invited by you","subtext for a pending collaborator who was invited by the current viewer","subtext for a pending collaborator who was invited by the current viewer"):n?c.a._("Requested to join","The subtext that identifies a pending collaborator has personally requested to join the board","The subtext that identifies a pending collaborator has personally requested to join the board"):Object(s.c)(c.a._("Invited by {{ user_full_name }}","The subtext that identifies a pending collaborator who was invited to collaborate on the board","The subtext that identifies a pending collaborator who was invited to collaborate on the board"),{user_full_name:r})}},{key:"getDeclineDeleteText",value:function(e,t,n){return e?c.a._("Leave","[button] for a collaborator to leave a group board","[button] for a collaborator to leave a group board"):t&&!n?c.a._("Decline","[button] decline another pinner's request to join board as a collaborator","[button] decline another pinner's request to join board as a collaborator"):c.a._("Remove","[button] remove a collaborator from the board]","[button] remove a collaborator from the board]")}},{key:"render",value:function(){var e=this.props,t=e.onApprove,n=e.isDim,o=e.onDelete,a=e.actionsDisabled,l=e.viewer,s=e.invite,d=s.access,f=s.status,m=s.invited_by_user,p=s.invited_user,b=p.id===l.id,h=m.id===l.id,v=p.id===m.id,y="accepted"===f,g=d.includes("approve"),_=d.includes("delete"),E=c.a._("Approve","[button] approve another pinner's request to join the board as a collaborator","[button] approve another pinner's request to join the board as a collaborator"),O=this.getDeclineDeleteText(b,v,y),w=_&&!g,C=_&&g,S="/".concat(p.username,"/");return r.createElement(u.d,null,r.createElement(i.a,{imageUrl:p.image_medium_url||"",name:p.full_name,title:p.full_name,subtitle:this.getSubtitleText(b,h,v),linkURL:S,isDim:void 0!==n?n:!y,accessory:w&&r.createElement(u.e,{inline:!0,disabled:a,onClick:o,text:O,size:"lg"})}),C&&r.createElement(u.d,{paddingX:3,marginStart:12,display:"flex",justifyContent:"end"},r.createElement(u.d,{paddingX:1,flex:"grow",width:"50%"},r.createElement(u.e,{disabled:a,onClick:o,text:O,size:"lg"})),r.createElement(u.d,{paddingX:1,flex:"grow",width:"50%"},r.createElement(u.e,{color:"red",disabled:a,onClick:t,text:E,size:"lg"}))))}}])&&f(t.prototype,n),o&&f(t,o),l}(r.Component),y=Object(l.a)(v),g=n("4dcN"),_=n("CvCA"),E=n("fArA"),O=n("L2iP"),w=n("ZE2w"),C=n("TiQD"),S=n("vvax");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){var t=e.onCancel,n=e.onRemove,r=e.useGestaltModal,a=c.a._("Are you sure you want to leave this group board and remove it from your profile?"),i=r?u.B:C.b;return o.a.createElement(i,{accessibilityModalLabel:c.a._("Leave board?"),heading:c.a._("Leave board?"),onDismiss:t,size:"sm",footer:o.a.createElement(u.d,{display:"flex",justifyContent:"end"},o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{inline:!0,onClick:t,text:c.a._("Cancel")})),o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{color:"red",inline:!0,onClick:n,text:c.a._("Leave")})))},o.a.createElement(u.d,{padding:5},o.a.createElement(u.R,null,a)))}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(l,e);var t,n,a,i=I(l);function l(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=i.call.apply(i,[this].concat(a)),t=B(e),r={shouldBlock:!1},(n="state")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=l,(n=[{key:"getBlockDescription",value:function(e,t){return"declineRequest"===e?t?Object(S.b)(c.a._("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.","decline another pinner's request to join board as a collaborator and block them","decline another pinner's request to join board as a collaborator and block them"),{invited_user_first_name:t}):c.a._("This will decline this person from joining this board and block them from subsequent collaboration requests.","message that explains consequences of declining a request to join board as a collaborator","message that explains consequences of declining a request to join board as a collaborator"):t?Object(S.b)(c.a._("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins."),{invited_user_first_name:t}):c.a._("This will remove this person, people they invited, and all their Pins.","message that explains consequences of removing a collaborator","message that explains consequences of removing a collaborator")}},{key:"render",value:function(){var e=this,t=this.props,n=t.removeType,a=t.firstName,i=t.fullName,l=t.onCancel,s=t.onRemove,d=t.onRemoveAndBlock,f=t.useGestaltModal,m="declineRequest"===n?Object(S.b)(c.a._("Decline {{ invited_user_name }}?","[button] to decline a pinner's request to join a board as a collaborator","[button] to decline a pinner's request to join a board as a collaborator"),{invited_user_name:i}).join(""):Object(S.b)(c.a._("Remove {{ invited_user_name }}?","[button] to remove a pinner as a collaborator from a group board","[button] to remove a pinner as a collaborator from a group board"),{invited_user_name:i}).join(""),p=c.a._("This will keep them from saving Pins to this board. You can also:","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.","decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user."),b=this.getBlockDescription(n,a),h=this.state.shouldBlock?c.a._("Block","block another pinner after denying their request to collaborate on a board","block another pinner after denying their request to collaborate on a board"):c.a._("Remove","decline another pinner's request to collaborate on a board","decline another pinner's request to collaborate on a board"),v=o.a.createElement(r.Fragment,null,o.a.createElement(u.d,{padding:5},o.a.createElement(u.R,null,p)),o.a.createElement(u.l,null),o.a.createElement(u.d,{padding:5,display:"flex"},o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.g,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:function(){return e.setState({shouldBlock:!e.state.shouldBlock})}})),o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.t,{htmlFor:"banUser"},o.a.createElement(u.R,{weight:"bold"},Object(S.b)(c.a._("Block {{ name }}"),{name:a||""})),o.a.createElement(u.R,{size:"md"},b))))),y=f?u.B:C.b;return o.a.createElement(y,{accessibilityModalLabel:m,heading:m,onDismiss:l,size:"sm",footer:o.a.createElement(u.d,{display:"flex",justifyContent:"end",marginStart:-1,marginEnd:-1},o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{inline:!0,onClick:l,text:c.a._("Cancel")})),o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{color:"red",inline:!0,onClick:this.state.shouldBlock?d:s,text:h})))},v)}}])&&k(t.prototype,n),a&&k(t,a),l}(r.Component),x=n("nGHF");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W="collaborator_decline_invite",K="collaborator_delete_invite",V=3e3,Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,o,a=M(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return q(U(e=a.call.apply(a,[this].concat(n))),"state",{currentModal:null,loading:!1}),q(U(e),"showRemoveSuccessToast",(function(){var t=e.props.toastManagerContext,n=c.a._("Collaborator removed","BoardCollabInviteCellContainer.toast","Toast for removing a collaborator from a board");t.showOneToast((function(e){var t=e.onHide;return r.createElement(_.a,{color:"darkGray",duration:V,onHide:t,text:n})}))})),q(U(e),"onDelete",(function(){var t=e.props.onModalOpen;t&&t(),e.setState({currentModal:"delete"})})),q(U(e),"onApprove",(function(){var t=e.props,n=t.approveBoardCollabInvite,r=t.onInviteDidUpdate;e.setState({loading:!0}),n().then(r).finally((function(){e.setState({loading:!1})}))})),q(U(e),"deleteBoardInvite",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props,r=n.deleteBoardCollabInvite,o=n.onBoardLeave,a=n.onInviteDidUpdate,i=e.isViewerInvitedUser,c=i?W:K;g.a.trackEvent(c,"click"),e.setState({currentModal:null,loading:!0}),r(i,t).then((function(){g.a.trackEvent(c,"success"),a(),e.showRemoveSuccessToast(),i&&o()})).catch((function(){g.a.trackEvent(c,"error")})).finally((function(){e.setState({loading:!1})}))})),q(U(e),"handleDeleteBoardInvite",(function(){e.deleteBoardInvite(!1)})),q(U(e),"handleDeleteBoardInviteAndBan",(function(){e.deleteBoardInvite(!0)})),q(U(e),"handleHideModal",(function(){e.setState({currentModal:null})})),e}return t=i,(n=[{key:"renderCurrentModal",value:function(){var e=this.props,t=e.invite.invited_user,n=e.useGestaltModal,o=void 0!==n&&n;return"delete"===this.state.currentModal?this.isViewerInvitedUser?r.createElement("div",{style:{position:"absolute",zIndex:O.h+1}},r.createElement(A,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:o})):r.createElement("div",{style:{position:"absolute",zIndex:O.h+1}},r.createElement(T,{removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",firstName:t.first_name,fullName:t.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,useGestaltModal:o})):null}},{key:"render",value:function(){var e=this.props,t=e.invite,n=e.isDim,o=this.state.loading;return r.createElement(u.d,null,r.createElement(y,{invite:t,isDim:n&&"accepted"!==t.status,onDelete:this.onDelete,onApprove:this.onApprove,actionsDisabled:o}),this.renderCurrentModal())}},{key:"isViewerInvitedUser",get:function(){var e=this.props,t=e.viewer,n=e.invite.invited_user;return t.isAuth&&t.id===n.id}},{key:"isRequestToJoin",get:function(){var e=this.props.invite,t=e.invited_user,n=e.invited_by_user;return t.id===n.id}}])&&N(t.prototype,n),o&&N(t,o),i}(r.Component);t.a=Object(E.compose)(Object(a.connect)(null,(function(e,t){var n=t.invite,r=t.invite,o=r.invited_user.id,a=r.board.id;return{approveBoardCollabInvite:function(){return e(Object(w.a)(a,o))},deleteBoardCollabInvite:function(t,r){return e(Object(w.b)(n,t,r))}}})),l.a,x.c)(Y)},"0rqM":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n("Ye/N"),a=n("TiQD"),i=n("n6mq");function c(e){var t=e.cancelButtonLabel,n=e.confirmButtonLabel,c=e.heading,l=e.message,s=e.onCancel,u=e.onConfirm,d=c||o.a._("Are you sure?"),f=t||o.a._("Cancel");return r.createElement(a.b,{accessibilityModalLabel:d,footer:r.createElement(i.d,{marginEnd:-1,marginStart:-1},r.createElement(i.d,{"data-test-id":"cancel-button",padding:1},r.createElement(i.e,{onClick:s,size:"lg",text:f})),r.createElement(i.d,{"data-test-id":"confirm-button",padding:1},r.createElement(i.e,{color:"red",onClick:u,size:"lg",text:n}))),heading:d,onDismiss:s,role:"alertdialog"},r.createElement(i.d,{padding:4},r.createElement(i.R,null,l)))}},"3j7w":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("q1tI");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,r,o=c(l);function l(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=o.call.apply(o,[this].concat(i)),t=s(e),r=function(){var t=e.props,n=t.isAtEnd,r=t.isFetching,o=t.fetchMore,a=t.scrollBuffer,i=t.scrollHeight,c=t.scrollTop;n||r||c+a>i&&o()},(n="check")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return t=l,(n=[{key:"componentDidMount",value:function(){setTimeout(this.check)}},{key:"componentDidUpdate",value:function(){this.check()}},{key:"render",value:function(){return null}}])&&a(t.prototype,n),r&&a(t,r),l}(r.PureComponent)},"5FNA":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n("qtKf"),o=n("Pqnw"),a=n("Wer7"),i=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],c={name:"BoardsResource",key:"boardsResource",options:function(e){var t=e.boardOrder,n=e.mixPublicSecret;return{privacy_filter:"all",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e.username,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0}}},l=function(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}},s=function(e){return i.reduce((function(t,n){var i=[Object(o.a)("profileBoards",Object(r.c)(e,n))];return[!0,!1].forEach((function(t){i.push(Object(a.f)(c.name,c.options({username:e,boardOrder:n,mixPublicSecret:t})))})),t.concat(i)}),[])}},"88U9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=3;function o(e,t){var n=t.length>r;return{limitedCollaborators:t.slice(0,n?2:3),overflowNumber:n?e-r+1:0}}},"8Mj5":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("n6mq");function i(e){var t=e.children;return o.a.createElement(a.d,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle"},t)}var c=n("Ye/N");function l(e){var t=e.onClick,n=e.overlap,r=e.size;return o.a.createElement(a.d,{marginStart:n},o.a.createElement(i,null,o.a.createElement(a.r,{accessibilityLabel:c.a._("Add","facePile.addButton","Accessibility label for button to add a collaborator"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:r})))}function s(e){var t=e.style;return o.a.createElement(a.d,{bottom:!0,dangerouslySetInlineStyle:{__style:t||{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0})}function u(e){var t=e.children,n=e.hovered;return o.a.createElement(a.d,{position:"relative"},o.a.createElement(s,{style:n?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:null}),t)}var d=48;function f(e){var t=e.addButtonRef,n=e.hovered,r=e.overlap;return o.a.createElement(a.d,{dangerouslySetInlineStyle:{__style:{zIndex:1}},key:"addIcon"},o.a.createElement(a.d,{marginStart:r},o.a.createElement(u,{hovered:n},o.a.createElement(i,null,o.a.createElement(a.d,{alignItems:"center",color:"lightGray",display:"flex",height:d,justifyContent:"center",ref:t,rounding:"circle",width:d},o.a.createElement(a.q,{accessibilityLabel:c.a._("Add","ui.Facepile","Accessibility label on icon"),icon:"add",color:"darkGray",size:20}))))))}var m={xs:24,sm:32,md:40,lg:48,xl:56};function p(e){var t=e.count,n=e.size,r=m[n];return o.a.createElement(i,null,o.a.createElement(a.d,{alignItems:"center",color:"lightGray",display:"flex",height:r,justifyContent:"center",position:"relative",rounding:"circle",width:r},o.a.createElement(a.R,{size:"lg",weight:"bold"},t>99?"99+":t)))}var b=n("7pfs"),h=n("Cufx");function v(e){var t=e.isDim,n=e.name,r=e.size,i=e.src,c=m[r];return o.a.createElement(a.d,{color:"white",height:c,width:c,rounding:"circle"},o.a.createElement(a.d,{dangerouslySetInlineStyle:{__style:{opacity:t?.5:1}}},o.a.createElement(h.a,{name:n,outline:!0,src:i})))}function y(e){var t=e.addButtonRef,n=e.additionalCount,r=e.faces,i=e.faceSize,c=e.onAddClick,s=e.onClick,d=e.oneClickTargetFacepile,m=e.overlap,h=e.pileRef,y=e.showAddButton,g=function(e){var t=e.apply,n=e.children;return o.a.createElement(a.d,{marginStart:t?m:void 0},n)};return o.a.createElement(b.a,null,(function(e){var b=e.hovered,_=e.onMouseEnter,E=e.onMouseLeave,O=r.map((function(e,t){var n=e.isDim,r=e.key,a=e.name,c=e.src;return o.a.createElement(g,{apply:0!==t,key:"face-".concat(t)},o.a.createElement(u,{hovered:b&&!!s},o.a.createElement(v,{key:null!=r?r:a,isDim:n,name:a,size:i,src:c})))}));n&&O.push(o.a.createElement(a.d,{dangerouslySetInlineStyle:{__style:{zIndex:1}},key:"additionalCount"},o.a.createElement(g,{apply:!0},o.a.createElement(u,{hovered:b&&!!s},o.a.createElement(p,{count:n,size:i}))))),d&&y&&O.push(o.a.createElement(f,{addButtonRef:t,hovered:b&&!!s,overlap:m}));var w=s?o.a.createElement(a.Q,{ref:h,onTap:s,rounding:"pill"},o.a.createElement(a.d,{alignItems:"center",display:"flex"},O)):O;return o.a.createElement(a.d,{alignItems:"center",display:"flex",onMouseEnter:_,onMouseLeave:E},w,!d&&y&&c&&o.a.createElement(a.d,{dangerouslySetInlineStyle:{__style:{zIndex:2}},ref:t},o.a.createElement(l,{onClick:c,overlap:m,size:i})))}))}n.d(t,"a",(function(){return y}))},CvCA:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),c=(n("17x9"),n("n6mq"));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,r,a=d(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=a.call.apply(a,[this].concat(n))),"state",{hiding:!1,visible:!1}),b(m(e),"handleHide",(function(){e.setState({hiding:!0}),e.timeout=setTimeout(e.props.onHide,200)})),b(m(e),"handleMouseEnter",(function(){e.timeout&&clearTimeout(e.timeout)})),b(m(e),"handleMouseLeave",(function(){e.timeout=setTimeout(e.handleHide,e.props.duration)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({visible:!0})}),100),this.timeout=setTimeout(this.handleHide,this.props.duration)}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.color,n=void 0===t?"darkGray":t,r=e.imageUrl,a=e.href,l=e.onClick,s=e.text,u=e.openNewPage,d="string"==typeof s?s:"".concat(s[0]," ").concat(s[1]),f=r?o.a.createElement("div",{className:"imageWrapper"},o.a.createElement("img",{className:"toastImage",src:r,alt:d})):void 0,m=o.a.createElement(c.U,{color:n,text:s,thumbnail:f});return o.a.createElement("div",{className:i()("ToastBase","react",{visible:this.state.visible},{hiding:this.state.hiding}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-id":"toast"},a?o.a.createElement("a",{href:a,onClick:l,target:u?"_blank":null,rel:u?"noopener noreferrer":null},m):m)}}])&&s(t.prototype,n),r&&s(t,r),l}(r.Component);b(h,"defaultProps",{duration:2e3})},KEt0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("n6mq");function i(e){var t=e.size;return o.a.createElement("span",{style:{padding:"0 4px"}},o.a.createElement(a.R,{inline:!0,size:null!=t?t:"md"},"·"))}},NjDU:function(e,t,n){"use strict";function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function a(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function i(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}))},O3d3:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return m}));var o="facebook",a="twitter",i="google",c="youtube",l="gplus",s="microsoft",u="etsy",d="instagram",f="dropbox";function m(e){var t;return r(t={},o,{connected:e.connected_to_facebook||!1}),r(t,i,{connected:e.connected_to_google||!1}),r(t,c,{connected:e.connected_to_youtube||!1}),r(t,l,{connected:!!e.gplus_url,url:e.gplus_url}),r(t,s,{connected:e.connected_to_microsoft||!1}),r(t,a,{connected:!!e.twitter_url,url:e.twitter_url}),r(t,u,{connected:e.connected_to_etsy||!1}),r(t,d,{connected:e.connected_to_instagram||!1}),r(t,f,{connected:e.connected_to_dropbox||!1}),t}},Pqnw:function(e,t,n){"use strict";function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return r}))},QoKk:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=(n("w/op"),n("Ye/N")),i=n("rYoy"),c=n("n6mq"),l=["es-AR","es-BZ","es-BO","pt-BR","en-CA","es-CL","zh-CN","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","zh-HK","he","en-JM","ja","en-KE","zh-MO","es-MX","es-NI","es-PA","es-PE","en-PH","es-PR","en-ZA","ko","zh-TW","en-US","es-VE"],s=n("pLLR");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=Object(r.lazy)((function(){return n.e("Calendar").then(n.t.bind(null,"sQeT",7))})),m=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};var p=Object(s.e)((function(e){var t=e.onSelectedDate,n=e.selectedDates,r=e.requestContext;return o.a.createElement(i.a,null,o.a.createElement(f,{calendarType:l.includes(r.locale)?"US":"ISO 8601",locale:r.locale||"",className:"DatePicker",enableHistoryView:!1,onClickDay:function(e){1===n.length&&n[0]<e?t([n[0],e]):t([e])},minDetail:"month",nextLabel:o.a.createElement(c.q,{accessibilityLabel:a.a._("Next month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to next calendar month"),icon:"arrow-forward"}),next2Label:null,prevLabel:o.a.createElement(c.q,{icon:"arrow-back",accessibilityLabel:a.a._("Previous month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to previous calendar month")}),prev2Label:null,tileClassName:function(e){var t=e.date,r=[],o=u(n,2),a=o[0],i=o[1];return a&&m(t,a)?(r.push("start"),i&&r.push("rangeStart")):i&&m(t,i)?r.push("rangeEnd"):2===n.length&&t>=a&&t<=i&&r.push("inRange"),r},tileDisabled:function(e){return e.date<=new Date},value:n.length?n:new Date,view:"month"}))})),b=n("TiQD");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=356;t.a=Object(s.e)((function(e){var t=e.dates,n=e.onChange,i=e.onToggleFlyout,l=void 0===i?function(){}:i,s=e.requestContext,u=Object(r.useRef)(null),d=h(Object(r.useState)(!1),2),f=d[0],m=d[1],v=h(Object(r.useState)(t||[]),2),g=v[0],_=v[1],E=h(g||[],2),O=E[0],w=E[1],C=O&&O.toLocaleDateString(s.locale)||"";w&&(C+=" - "+g[1].toLocaleDateString(s.locale));var S=function(){l(),m(!f)};return o.a.createElement(r.Fragment,null,o.a.createElement("div",{style:{position:"relative"},ref:u},o.a.createElement(c.T,{autoComplete:"off",id:"boardEditDate",onChange:function(){},onFocus:S,onKeyDown:function(e){"Backspace"===e.event.key&&(_([]),n([]))},placeholder:a.a._("Select start and end","BoardForm.BoardFormDateField","placeholder for input field to enter board end and start dates"),size:"lg",value:C}),o.a.createElement(c.d,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,right:!0,padding:4},o.a.createElement(c.q,{color:"darkGray",icon:"calendar",accessibilityLabel:a.a._("Select date","BoardForm.BoardFormDateField","accessibility label on calendar icon")}))),f&&o.a.createElement(c.u,null,o.a.createElement(c.d,{position:"absolute",top:!0,dangerouslySetInlineStyle:{__style:{zIndex:b.a}}},o.a.createElement(c.n,{anchor:u.current,idealDirection:"down",onDismiss:S,size:y,positionRelativeToAnchor:!1},o.a.createElement(c.d,{padding:6,width:y},o.a.createElement(p,{onSelectedDate:function(e){_(e),n(e)},selectedDates:g}))))))}))},ViqK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),o=n.n(r),a=n("Cufx"),i=n("3gA6"),c=n("n6mq");function l(e){var t=e.imageUrl,n=e.name,r=e.title,l=e.subtitle,s=e.accessory,u=e.linkURL,d={__style:{opacity:e.isDim?.5:1}};return o.a.createElement(o.a.Fragment,null,n&&r&&o.a.createElement(c.d,{display:"flex",alignItems:"center",paddingX:4,marginBottom:4},o.a.createElement(c.d,{marginEnd:2,dangerouslySetInlineStyle:d},o.a.createElement(i.b,{to:u||""},o.a.createElement(a.a,{outline:!0,size:"md",name:n,src:t}))),o.a.createElement(c.d,{display:"flex",flex:"grow",alignItems:"stretch",direction:"column",dangerouslySetInlineStyle:d},o.a.createElement(i.b,{to:u||""},o.a.createElement(c.R,{color:"darkGray",size:"lg",truncate:!0,weight:"bold"},r)),o.a.createElement(c.R,{truncate:!0,size:"sm",color:"gray"},l)),s&&o.a.createElement(c.d,{marginStart:4},s)))}},VwDf:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return e.toISOString()},o=function(e){var t,n,o=e.currentEventStartDate,a=e.currentEventEndDate,i=e.initialEventStartDate,c=e.initialEventEndDate;return o&&a?(t=r(o),n=r(a)):a&&(n=r(a)),c&&!a&&(n=""),i&&!o&&(t=""),c&&r(new Date(c))===a&&(n=null),i&&r(new Date(i))===a&&(t=null),{eventEndDate:n,eventStartDate:t}}},Wrea:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n("Wer7"),o=function(e,t){return function(n){return n(Object(r.a)("BoardResource",{board_id:e,field_set_key:t}))}},a=function(e){return o(e,"pin_count")},i=function(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}},c=function(e){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}},l=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},s=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}}},XRfM:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p}));var r=n("Ye/N"),o=function(e){return r.a.getPluralFunction(e)},a=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"symbol",a={maximumFractionDigits:e,minimumFractionDigits:t};return n&&(a.style=n,"currency"===n&&(a.currency=r,a.currencyDisplay=o)),a},i=function(e,t){var n=t||0,r=Math.pow(10,n),o=+(n?e*r:e).toFixed(8),a=Math.floor(o),i=o-a,c=i>.5-1e-8&&i<.5+1e-8?a%2==0?a:a+1:Math.round(o);return n?c/r:c},c={USD:"$",GBP:"£",CAD:"$",EUR:"€",AUD:"A$",NZD:"NZ$",SEK:"kr",NOK:"kr",DKK:"kr"},l=function(e){try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(e,t,n,r,o,i,c){var s=a(n,r,o,i,c);return t.toLocaleString([l(e)?e:"en-US"],s)}function u(e,t,n){var o,a,c=n&&n.style||void 0,l=n&&n.shortform||!1,u=n&&n.uplimit||void 0,d=n&&n.currency||void 0;if(u&&t>u)return"".concat(u,"+");if("currency"===c?(o=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(o=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),l&&t>999&&(o=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,a=0),o<a)return String(t);var f=t,m="",p=[{"100M":{value:1e8,localeKey:r.a._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:r.a._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],b=[{b:{value:1e9,localeKey:r.a._("b","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:r.a._("m","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:r.a._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],h=/^zh|ja|ko/.test(e);if(l&&t>999)for(var v=h?p:b,y=0;y<v.length;y+=1){var g=Object.keys(v[y])[0],_=v[y][g].value;if(t>=_){f=i(t/_*Math.pow(10,o))/Math.pow(10,o),m=v[y][g].localeKey;break}}return s(e,f,o,a,c,d||void 0)+m}var d={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH_DAY:"short_month_day"},f=function(e){return 1.1.toLocaleString(e).substring(1,2)},m=function(e,t){return","===f(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},p=function(e,t){return","===f(t)&&e?e.replace(",","."):e},b={DateFormatType:d,formatDate:function(e,t,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n===d.YEAR)return(t.getYear()+1900).toString();switch(n){case d.LONG:r={year:"numeric",month:"long",day:"numeric"};break;case d.NUMERIC:r={year:"numeric",month:"numeric",day:"numeric"};break;case d.WEEKDAY_DATE:r={weekday:"long",month:"long",day:"numeric",year:"numeric"};break;case d.SHORT_WEEKDAY_DATE:r={weekday:"short",month:"numeric",day:"numeric"};break;case d.MONTH_DAY:r={month:"long",day:"numeric"};break;case d.SHORT_MONTH_DAY:r={month:"short",day:"numeric"};break;case d.LONG_MONTH_YEAR:r={month:"long",year:"numeric"};break;default:throw new Error('invalid dateFormatType "'+n+'"')}o&&(r.timeZone="UTC"),IntlPolyfill.__disableRegExpRestore();var a=new IntlPolyfill.DateTimeFormat(e,r);return a.format(t)},ngettext:function(e,t,n,a){var i,c=+o(e)(a);return i="en-US"===e&&1===c?n:t,r.a._(i,"",c)},prettyNumberFormat:u,numberFormat:s,currencySymbols:c,localizeCurrencyValue:m,unlocalizeCurrencyValue:p};t.b=b},ZE2w:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n("4dcN"),o=n("eOdZ"),a="collaborator_approve_invite";function i(e,t){return o.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function c(e,t){return o.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function l(e,t){return function(n){return o.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then((function(){r.a.trackEvent(a,"success")})).catch((function(){return r.a.trackEvent(a,"error")}))}}function s(e,t,n){return function(t){var r=e.invited_user,a=e.status,i=e.board.id;return o.a.create("accepted"===a?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:i,field_set_key:"boardEdit",invited_user_id:r.id}).callDelete({showError:!1})}}},mLS1:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("Ye/N"),i=n("TiQD"),c=n("eOdZ"),l=n("Wrea"),s=n("xdpg"),u=n("n6mq");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){return r.createElement("div",{className:"ImageCrop"},r.createElement("div",{className:"holder"},r.createElement(u.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center"},r.createElement(u.K,{accessibilityLabel:a.a._("Loading","accessibility label for loading spinner","accessibility label for loading spinner"),show:!0}))))}var O={border:0,top:120},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,o,i=h(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(y(e=i.call.apply(i,[this].concat(n))),"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),_(y(e),"handleUpdateImage",(function(){var t=e.image;if(t){var n=t.offsetHeight,r=t.offsetWidth;e.setState({isSpinnerShown:!1,startBgPos:{left:-(r-e.state.holderWidth)/2,top:-(n-e.state.holderHeight)/2}})}})),_(y(e),"handleOnMouseUp",(function(){e.isDragging=!1,e.setState({startBgPos:{left:e.getBgLeft(),top:e.getBgTop()},deltaX:0,deltaY:0}),e.props.updateImgCrop(e.getCropData())})),_(y(e),"isDragging",!1),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth}),document.body&&document.body.addEventListener("mouseup",this.handleOnMouseUp,!1)}},{key:"componentDidUpdate",value:function(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}},{key:"componentWillUnmount",value:function(){document.body&&document.body.removeEventListener("mouseup",this.handleOnMouseUp)}},{key:"getFrameBounds",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.state,o=r.holderHeight;return{left:r.holderWidth/2-n/2,width:n,height:t,top:o/2-t/2}}},{key:"getBgLeft",value:function(){var e=this.props.frameWidth,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,a=r.imgWidth*n,i=0;return o&&a&&((i=this.state.startBgPos.left+this.state.deltaX)+a-e<t.left&&(i=t.left-a+e),i>t.left&&(i=t.left)),i}},{key:"getBgTop",value:function(){var e=this.props.frameHeight,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),o=r.imgHeight*n,a=r.imgWidth*n,i=0;return o&&a&&((i=this.state.startBgPos.top+this.state.deltaY)+o-e<t.top&&(i=t.top-o+e),i>t.top&&(i=t.top)),i}},{key:"getImgScale",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this._getImageDimensions(),o=r.imgHeight,a=r.imgWidth,i=this.getFrameBounds();if(o&&a){var c=o/a;return c=c>=i.height/i.width?n/a:t/o}return 1}},{key:"getImageBounds",value:function(){var e=this._getImageDimensions(),t=e.imgHeight,n=e.imgWidth,r={};if(t&&n){var o=this.getImgScale();r={width:o*n,height:o*t}}return r}},{key:"getBgBounds",value:function(){return{left:this.getBgLeft(),top:this.getBgTop()}}},{key:"getCropData",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.getFrameBounds(),o=this.getBgBounds(),a=this.getImgScale();return{cropX:Math.round(-(o.left-r.left)/a),cropY:Math.round(-(o.top-r.top)/a),height:Math.round(t/a),width:Math.round(n/a),scale:a}}},{key:"handleOnMouseDown",value:function(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}},{key:"handleOnMouseMove",value:function(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}},{key:"_getImageDimensions",value:function(){var e=this.props.pin.images["236x"];return{imgHeight:e.height,imgWidth:e.width}}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardName,o=t.frameHeight,i=t.frameWidth,c=t.isFirst,l=t.isLast,d=t.pin,f=t.showNextPin,p=t.showPrevPin,b=this.state.isSpinnerShown,h=this._getImageDimensions(),v=h.imgHeight,y=h.imgWidth,g=this.getFrameBounds(),_=this.getImageBounds(),E=this.getBgBounds(),w="";return v&&y&&(w="in"),r.createElement("div",{className:"ImageCrop"},r.createElement("div",{className:"holder",ref:function(t){e.holder=t}},r.createElement("div",{className:"bg",style:E},r.createElement("img",{alt:s.c(a.a._("Board cover for {{ boardName }}"),{boardName:n}),className:w,onLoad:this.handleUpdateImage,ref:function(t){e.image=t},src:d.images["236x"].url,style:_})),r.createElement("div",{className:"mask"},r.createElement("span",{style:{top:0,left:0,right:0,height:g.top}}),r.createElement("span",{style:{top:g.top,left:g.left+i,right:0,height:o}}),r.createElement("span",{style:{top:o+g.top,left:0,right:0,bottom:0}}),r.createElement("span",{style:{top:g.top,left:0,width:g.left,height:o}})),r.createElement("div",{className:"frame",style:g}),r.createElement("div",{className:"drag",onMouseDown:function(t){e.handleOnMouseDown(t)},onMouseMove:function(t){e.handleOnMouseMove(t)}}),r.createElement("div",{className:"spinner",style:{display:b?"":"none"}})),c?null:r.createElement(u.d,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:m(m({},O),{},{left:100})}},r.createElement(u.r,{icon:"arrow-back",accessibilityLabel:a.a._("Previous","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:p})),l?null:r.createElement(u.d,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:m(m({},O),{},{right:100})}},r.createElement(u.r,{icon:"arrow-forward",accessibilityLabel:a.a._("Next","Label for indicating selecting the previous pin","Label for indicating selecting the previous pin"),onClick:f})))}}])&&p(t.prototype,n),o&&p(t,o),c}(r.Component);_(w,"defaultProps",{frameHeight:236,frameWidth:236});var C=n("zLLH");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return e.reduce((function(e,t){return"pin"===t.type&&e.push(t),e}),[])}function x(e){var t=e.boardFeedResource.data,n=e.coverPinId;return Math.max(0,T(t||[]).findIndex((function(e){return e.id===n})))}var F=5,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(d,e);var t,n,o,s=I(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(B(e=s.call.apply(s,[this].concat(n))),"state",{coverPinIndex:x(e.props),imgCropData:null,previousBoardFeedResourceData:null}),A(B(e),"handleSave",(function(){var t=e.props,n=t.boardId,r=t.dispatch,o=e.state,a=o.coverPinIndex,i=o.imgCropData,s=(e.pins||[])[a];if(s){var u=s.images["236x"],d=u.url,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({board_id:n,url:d,pin_id:s.id,pin_image_url:d},i?{crop_x:i.cropX,crop_y:i.cropY,height:i.height,width:i.width,scale:i.scale}:{}),m={height:u.height,width:u.width,x:i?i.cropX:0,y:i?i.cropY:0};c.a.create("BoardResource",f).callUpdate().then((function(){e.props.onSave(d),r(Object(l.a)(n,{custom_cover:!0,scale:i?i.scale:1,pin_id:s.id,crop:m,image_url:d}))}))}})),A(B(e),"updateImgCrop",(function(t){return e.setState({imgCropData:t})})),A(B(e),"handleShowNextPin",(function(){var t=e.props.boardFeedResource,n=t.isAtEnd,r=t.isFetching,o=t.fetchMore,a=(e.pins||[]).length;a&&e.setState((function(e){return{coverPinIndex:(e.coverPinIndex+1)%a}}),(function(){e.pins&&e.state.coverPinIndex+F>=e.pins.length&&!n&&!r&&o()}))})),A(B(e),"handleShowPrevPin",(function(){var t=(e.pins||[]).length;t&&e.setState((function(e){return{coverPinIndex:(e.coverPinIndex||t)-1}}))})),e}return t=d,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.boardFeedResource.data;return!t.previousBoardFeedResourceData&&n?{previousBoardFeedResourceData:n,coverPinIndex:x(e)}:{previousBoardFeedResourceData:n}}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach((function(e){"pin"===e.type&&((new Image).src=e.url)}))}},{key:"render",value:function(){var e=this.props,t=e.boardName,n=e.frameHeight,o=e.frameWidth,c=e.heading,l=e.onCancel,s=this.state.coverPinIndex,d=this.pins||[],f=d[s];return r.createElement(i.b,{accessibilityModalLabel:a.a._("Change Board Cover","accessible label for modal to change board cover image","accessible label for modal to change board cover image"),size:"lg",heading:c,onDismiss:l},r.createElement(u.d,{position:"relative",dangerouslySetInlineStyle:{__style:{userSelect:"none"}}},f?r.createElement(w,{boardName:t,frameHeight:n,frameWidth:o,isFirst:!s,isLast:s===d.length-1,pin:f,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop}):r.createElement(E,null)),r.createElement(u.d,{display:"flex",justifyContent:"end"},r.createElement(u.d,{padding:2},r.createElement(u.e,{inline:!0,onClick:l,text:a.a._("Cancel")})),r.createElement(u.d,{padding:2},r.createElement(u.e,{disabled:!f,inline:!0,onClick:this.handleSave,text:a.a._("Save Changes","Button for saving board cover edit","Button for saving board cover edit"),color:"red"}))))}},{key:"pins",get:function(){var e=this.props.boardFeedResource.data;return e?T(e):void 0}}])&&k(t.prototype,n),o&&k(t,o),d}(r.Component),L=Object(C.c)({name:"BoardFeedResource",options:function(e){return{board_id:e.boardId,field_set_key:"images_only_item",filter_section_pins:!1,page_size:50}},key:"boardFeedResource"})(N),M=n("0rqM"),H=function(e){var t=e.label,n=e.labelId;return n?o.a.createElement(u.t,{htmlFor:n},o.a.createElement(u.R,{size:"sm"},t)):o.a.createElement(u.R,{size:"sm"},t)};function U(e){var t=e.children,n=e.label,a=e.labelId;return o.a.createElement(r.Fragment,null,o.a.createElement(u.d,{marginBottom:2},o.a.createElement(H,{label:n,labelId:a})),t)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=138;function K(e){var t=e.coverPin,n=e.handleShowBoardCoverEditModal,i=z(Object(r.useState)(!1),2),c=i[0],l=i[1];return o.a.createElement(U,{label:a.a._("Board cover","BoardForm.BoardFormCoverButton","Form label for updating board cover")},o.a.createElement(u.d,{width:W,position:"relative"},o.a.createElement(u.Q,{onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onTap:n,rounding:4},(null==t?void 0:t.custom_cover)?o.a.createElement(r.Fragment,null,o.a.createElement(u.x,{height:W,rounding:4,width:W},o.a.createElement(u.s,{alt:t.image_url,color:"gray",fit:"cover",naturalHeight:t.size&&t.size[0]||W,naturalWidth:t.size&&t.size[0]||W,src:t.image_url})),o.a.createElement(u.d,{position:"absolute",right:!0,bottom:!0,padding:2},o.a.createElement(u.d,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:c?"white":"rgba(255, 255, 255, 0.8)"}}},o.a.createElement(u.q,{accessibilityLabel:a.a._("Edit board cover","BoardForm.BoardFormBoardCoverButton","Accessibility label on icon"),icon:"edit",color:"darkGray",size:16})))):o.a.createElement(u.d,{alignItems:"center",color:c?"darkWash":"lightGray",display:"flex",height:W,justifyContent:"center",rounding:4,width:W},o.a.createElement(u.q,{accessibilityLabel:a.a._("Add cover photo","BoardForm.BoardFormCoverButton","Accessibility label on icon"),color:"darkGray",icon:"add",size:24})))))}function V(e){var t=e.categories,n=e.currentCategory,r=e.onChange,i=a.a._("What kind of board is it?");return o.a.createElement(U,{label:a.a._("Category","BoardForm.BoardFormCategoriesDropdown","Form field label"),labelId:"boardEditCategory"},o.a.createElement(u.J,{id:"boardEditCategory",name:"category",onChange:r,options:t.map((function(e){return{label:e.name,value:e.key}})),placeholder:i,size:"lg",value:n||null}))}function Y(e){var t=e.children,n=e.label,a=e.labelId,i=e.subtext;return o.a.createElement(r.Fragment,null,o.a.createElement(u.d,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1},o.a.createElement(u.t,{htmlFor:a},o.a.createElement(u.p,{size:"sm"},n)),t),i)}function G(e){var t=e.hasCollabBoardEmail,n=e.isCollaborative,r=e.onChange;return n&&o.a.createElement(Y,{label:a.a._("Email notifications","BoardForm.BoardFormCollaboratorsEmailCheckbox","Form label"),labelId:"emailNotificationsCheckbox",subtext:o.a.createElement(u.R,{color:"gray",size:"lg"},a.a._("Get an email when someone saves Pins to this board","BoardForm.BoardFormCollaboratorsEmailCheckbox","Text explaing field on board form"))},o.a.createElement(u.d,{alignItems:"center",display:"flex",paddingY:2},o.a.createElement(u.d,{marginEnd:1},o.a.createElement(u.N,{switched:t,id:"emailNotificationsCheckbox",name:"email",onChange:r}))))}var X=n("+HMQ"),Q=n("88U9"),Z=n("8Mj5"),J=n("zpFB");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){var t=e.board,n=e.onCollaboratorInviteClick;return o.a.createElement(X.a,{board:t},(function(e){var t=Object(Q.a)(e.length,e),r=t.limitedCollaborators,i=t.overflowNumber;return o.a.createElement(u.F,{justifyContent:"between"},o.a.createElement(Z.a,{additionalCount:i,faces:r.map((function(e){return ee(ee({},e),{},{key:e.name})})),faceSize:"lg",overlap:J.a}),o.a.createElement(u.r,{accessibilityLabel:a.a._("Invite collaborators","BoardEdit.BoardCollaboratorsAndInviteSection","Accessibility label on button"),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"}))}))}var re=n("+wrf"),oe=n("t+EM"),ae=n("ViqK"),ie=(n("17x9"),n("TSYQ")),ce=n.n(ie),le=n("O3d3"),se=n("7w6Q");function ue(e){var t=e.email,n=e.isValid,o=e.onClick,i=e.showSendEmailText,c=n?r.createElement("div",{className:"icon"},t[0].toUpperCase()):r.createElement("div",{className:ce()("icon","typingEmail")},r.createElement("em",null)),l=n?a.a._("Click to send!"):a.a._("Keep typing!"),u=i?Object(s.c)(a.a._("Email {{ email }}"),{email:t}):Object(s.c)(a.a._("Invite {{ email }}"),{email:t});return r.createElement("div",{className:ce()("sendToEmail",{unclickable:!n})},r.createElement("a",{className:"selectableEmailItem",onClick:function(){n&&o()},role:"button"},r.createElement("div",{className:"left"},c),r.createElement("div",{className:"right"},r.createElement("h4",{className:"title"},u),r.createElement("p",{className:"subtitle"},l))))}function de(e){var t=e.email,n=e.inviteQueue,r=e.id,i=e.is_pinner,c=e.label,l=e.onClick,s=e.onHoverEnd,d=e.onHoverStart,f=e.send_pin_image,m=e.type,p=a.a._("Enter an email address");return i?p=a.a._("On Pinterest"):t?p=t:"facebook_non_pinner"===m?p=a.a._("Facebook"):"gplus_non_pinner"===m&&(p=a.a._("Google")),o.a.createElement(u.Q,{onMouseEnter:d,onMouseLeave:s,onTap:l},o.a.createElement(u.d,{paddingX:2,position:"relative"},f?o.a.createElement("span",{className:"typeaheadImg"},o.a.createElement("img",{alt:"",src:f})):null,o.a.createElement("p",{className:ce()("typeaheadName",{hasImage:f})},c),o.a.createElement("div",{className:"titleWrapper"},o.a.createElement("i",{className:ce()("titleIcon",{isPinner:i},{isFacebook:"facebook_non_pinner"===m},{isGplus:"gplus_non_pinner"===m})}),o.a.createElement("p",{className:"title"},p)),o.a.createElement(u.d,{top:!0,right:!0,position:"absolute",width:90},n&&o.a.createElement(u.e,{text:n[r]?a.a._("Remove","Remove a board collaborator invite","Remove a board collaborator invite"):a.a._("Add","Add board collaborator invite","Add board collaborator invite"),color:n[r]?"gray":"red",size:"sm"}))))}var fe=n("G35+"),me=n("+zF7");function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=fe.a.FACEBOOK,he=fe.a.GPLUS,ve=fe.a.YAHOO;function ye(e){var t,n=e.network,r=(pe(t={},be,a.a._("Find friends from Facebook")),pe(t,he,a.a._("Find friends from Google+")),pe(t,ve,a.a._("Find friends from Yahoo")),t);return o.a.createElement("div",{className:"socialConnect",role:"listitem"},o.a.createElement(u.Q,{fullWidth:!1,onTap:function(){return function(e){me.a.instance().handleConnect(e,!0,{})}(n)}},o.a.createElement("div",{className:"socialConnectItem"},o.a.createElement("div",{className:"left"},o.a.createElement("div",{className:ce()("icon","socialConnect-".concat(n))},o.a.createElement("em",null))),o.a.createElement("div",{className:"right"},o.a.createElement("h4",{className:"title"},r[n])))))}var ge=n("jZhD"),_e=n("joD6"),Ee=n("TN0d"),Oe=n("U4JR"),we=n("ZE2w");function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=[fe.a.FACEBOOK],Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(c,e);var t,n,r,i=Be(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xe(Ae(e=i.call.apply(i,[this].concat(n))),"state",{networks:void 0!==e.props.viewer?e.props.viewer.socialNetwork:null,open:!1,typeaheadSuggestions:[]}),xe(Ae(e),"onUserInviteClick",(function(t){var n=t.id,r=t.full_name,o=e.props,a=o.boardId,i=o.onInviteItemClick;a?i(Object(we.d)(a,[n]),{type:"user",userName:r}):i(t,!0)})),xe(Ae(e),"handleBodyClick",(function(t){e._results&&!e._results===t.target&&e.setState({open:!1})})),xe(Ae(e),"handleTypeaheadSuggestionsChange",(function(t){var n=e.props.viewer;se.a.increment("web_contacts_search",1,{source:"social_type_ahead"}),e.setState({typeaheadSuggestions:(t||[]).filter((function(e){return e.id!==n.id}))})})),xe(Ae(e),"handleOnEmailInviteClick",(function(){var t=e.props,n=t.boardId,r=t.onInviteItemClick,o=t.value;n&&void 0!==o?r(Object(we.c)(n,[o]),{type:"email",email:o}):r(o,!1)})),xe(Ae(e),"subscriber",Ee.b.subscribe("currentUser","socialNetworkUpdated",(function(t,n,r){e.setState({networks:Object(le.a)(r)})}))),xe(Ae(e),"logTypeaheadInput",(function(e){Object(Oe.a)(4113,{component:13029,element:1043,entered_query:e})})),xe(Ae(e),"logSearchContactItemClick",(function(t){var n=e.props.value;Object(Oe.a)(101,{component:13029,element:1044,entered_query:n,result_index:t})})),xe(Ae(e),"renderResultItems",(function(){var t=e.props,n=t.changeOnTextHover,r=t.inviteQueue,a=ce()("Typeahead","userSelect",{open:e.state.open}),i=e.state.typeaheadSuggestions.map((function(t,a){return o.a.createElement(de,Object.assign({key:a,onClick:function(){e.onUserInviteClick(t),e.logSearchContactItemClick(a)},onHoverEnd:function(){return n?e.restoreTextFieldValue():null},onHoverStart:function(){return n?e.forceTextFieldValue(t.label):null},inviteQueue:r},t))})).concat(e.getStaticItems()).map((function(e,t){return o.a.createElement("li",{key:t},e)}));return o.a.createElement("div",{className:a,ref:function(t){e._results=t},style:{overflow:"scroll",height:"364px",zIndex:1e3,marginTop:4,borderTop:"none"}},i)})),e}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e){var t=e.value;return{open:t&&t.length>0}}}],(n=[{key:"componentDidMount",value:function(){var e=this;["mousedown","touchstart"].forEach((function(t){document.addEventListener(t,e.handleBodyClick)}))}},{key:"componentWillUnmount",value:function(){var e=this;["mousedown","touchstart"].forEach((function(t){document.removeEventListener(t,e.handleBodyClick)})),this.subscriber.unsubscribe()}},{key:"getStaticItems",value:function(){return[].concat(ke(this.getEmailItems()),ke(this.getSocialItems(this.state.networks)))}},{key:"getEmailItems",value:function(){var e=this.props.value||"";return[o.a.createElement(ue,{email:e,isValid:Object(s.g)(e),key:"send-to-email-component",onClick:this.handleOnEmailInviteClick,showSendEmailText:!1})]}},{key:"getSocialItems",value:function(e){return Fe.filter((function(t){return!e||!1===e[t].connected})).map((function(e,t){return o.a.createElement(ye,{key:"socialConnect-".concat(e),network:e})}))}},{key:"forceTextFieldValue",value:function(e){this.props.value&&(this.previousValue=this.props.value),this.props.onChange(e)}},{key:"restoreTextFieldValue",value:function(){this.props.onChange(this.previousValue),delete this.previousValue}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardId,r=t.className,i=t.onChange,c=t.onKeyDown,l=t.showInputPlaceholder,s=t.value,d=n?{board:n}:null,f=a.a._("Enter name or email","search","search");return o.a.createElement(ge.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:De(De({},d),{},{count:25}),value:s||""},o.a.createElement("div",{className:ce()(r,"reactSocialTypeahead")},o.a.createElement("div",{className:ce()("TypeaheadField","userSelect","inputContainer","socialInboxTypeahead")},o.a.createElement(u.T,{id:"collaboratorInviterTypeahead",onChange:function(t){var n=t.value;i(n),e.logTypeaheadInput(n)},onKeyDown:c,placeholder:l?f:"",size:"lg",value:s})),this.renderResultItems()))}}])&&Ie(t.prototype,n),r&&Ie(t,r),c}(r.Component);xe(Ne,"defaultProps",{changeOnTextHover:!1,onKeyDown:function(){},showInputPlaceholder:!0,value:""});var Le=Object(_e.a)(Ne),Me=n("fArA");function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(c,e);var t,n,r,i=qe(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ye(Ke(e=i.call.apply(i,[this].concat(n))),"state",{scrollContainer:void 0,value:""}),Ye(Ke(e),"handleInviteClick",(function(){var t=e.props,n=t.boardId,r=t.invites.refreshData,o=e.state.value;Object(s.g)(o)&&Object(we.c)(n,[o]).then(r).finally((function(){e.setState({value:""})}))})),Ye(Ke(e),"handleInviteItemClick",(function(t){var n=e.props.invites.refreshData;t.then(n).finally((function(){e.setState({value:""})}))})),Ye(Ke(e),"handleInviterScrollContainer",(function(t){e.state.scrollContainer||e.setState({scrollContainer:t})})),e}return t=c,(n=[{key:"renderInvite",value:function(e,t,n){var r={invite:e,onBoardLeave:t,onInviteDidUpdate:n,useGestaltModal:!0,isDim:!1};return o.a.createElement(re.a,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardId,r=t.boardOwner,i=t.invites,c=t.onBoardLeave,l=i.data,s=i.fetchMore,d=i.isAtEnd,f=i.isFetching,m=i.isLoaded,p=i.refreshData,b=r.full_name,h=r.image_medium_url,v=r.username;return o.a.createElement("div",null,o.a.createElement("div",{className:"BoardInviteForm collaboratorInvitesNoMargin"},o.a.createElement("div",{className:"inviteWrapper"},o.a.createElement("div",{className:"fillWidth",style:{position:"relative"}},o.a.createElement(Le,{boardId:n,onChange:function(t){return e.setState({value:t})},onInviteItemClick:this.handleInviteItemClick,value:this.state.value})),o.a.createElement(u.e,{inline:!0,onClick:this.handleInviteClick,text:a.a._("Invite","ask to join","ask to join")}))),o.a.createElement("div",{className:"boardEditCollaborators",ref:this.handleInviterScrollContainer},o.a.createElement(ae.a,{imageUrl:h,linkURL:"/".concat(v,"/"),name:b,subtitle:v,title:b}),m?o.a.createElement(oe.a,{boardId:n,fetchMore:s,invites:l||[],isAtEnd:d,isFetching:f,onBoardLeave:c,refreshData:p,renderInvite:this.renderInvite,scrollContainer:this.state.scrollContainer}):null))}}])&&Ue(t.prototype,n),r&&Ue(t,r),c}(r.Component),Xe=Object(Me.compose)(Object(C.c)({name:"BoardInvitesResource",options:function(e){return{board_id:e.boardId,sort:"viewer_first",field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved,pending_approval",include_inactive:!0}},key:"invites"},{allowStale:!1}),_e.a)(Ge),Qe=n("KEt0"),Ze=n("kmwA"),Je=n("0SCs");function $e(e){var t=e.board,n=e.currentUserIsOwner,r=e.handleBoardLeave,i=e.onCollaboratorInviteClick,c=Object(Je.c)("board_permission_settings").anyEnabled,l=o.a.createElement(u.F,null,o.a.createElement(u.R,{size:"sm",inline:!0},a.a._("Collaborators")),o.a.createElement(Qe.a,null),o.a.createElement(u.R,{inline:!0,size:"sm",weight:"bold"},o.a.createElement(u.w,{inline:!0,target:"blank",href:Ze.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE},a.a._("Learn more"))));return o.a.createElement(U,{alignTop:!0,label:l,labelId:"collaborators"},c?o.a.createElement(ne,{board:t,onCollaboratorInviteClick:i}):o.a.createElement(Xe,{boardId:t.id,boardOwner:t.owner,currentUserIsOwner:n,onBoardLeave:r}))}function et(e){var t=e.collaboratorInvitesEnabled,n=e.isCollaborative,r=e.onChange;return n&&o.a.createElement(Y,{label:a.a._("Let collaborators add people","BoardForm.BoardFormCollaboratorsInviteToggle","Form label"),labelId:"collaboratorInvitesEnabledCheckbox"},o.a.createElement(u.d,{paddingY:2},o.a.createElement(u.N,{switched:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:r})))}var tt=n("QoKk");function nt(e){var t=e.boardDates,n=e.onChange,r=e.onToggleFlyout;return o.a.createElement(U,{label:a.a._("Dates · Optional—this can help you plan!","BoardForm.BoardFormDateField","Label next to date picker for adding a date to a board"),labelId:"secret"},o.a.createElement(tt.a,{dates:t,onChange:n,onToggleFlyout:r}))}function rt(e){var t=e.description,n=e.descriptionValidatorErrors,r=e.onChange,i="boardEditDescription";return o.a.createElement(U,{alignTop:!0,label:a.a._("Description","BoardForm.BoardFormDescription"," Form field label"),labelId:i},o.a.createElement(u.S,{errorMessage:n.join(", "),id:i,name:"description",onChange:r,placeholder:a.a._("What's your board about?"),value:t}))}var ot=function(e){var t=e.children;return o.a.createElement(u.d,{paddingX:8,role:"list"},r.Children.map(t,(function(e,n){return e&&o.a.createElement(u.d,{role:"listitem",marginBottom:n===r.Children.count(t)-1?1:8,key:n},e)})))},at=n("JW66");function it(e){var t=e.isProtectedToggler,n=e.isToggleDisable,i=e.onChange,c=e.privacy;if(!0===t)return o.a.createElement(Y,{label:a.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected"},o.a.createElement(u.d,{paddingY:2},o.a.createElement(u.N,{onChange:i,switched:c===at.a.BoardPrivacy.PROTECTED,id:"protected",disabled:n})));if(c!==at.a.BoardPrivacy.PROTECTED){var l=a.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),s=o.a.createElement(r.Fragment,null,o.a.createElement(u.R,{color:"gray",size:"lg"},a.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",o.a.createElement(u.w,{inline:!0,target:"blank",href:Ze.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},a.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards"))));return o.a.createElement(Y,{label:l,labelId:"secret",subtext:s},o.a.createElement(u.d,{display:"flex",alignItems:"center"},o.a.createElement(u.N,{switched:c===at.a.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:i,disabled:n})))}return null}function ct(e){var t=e.allowHomefeedRecommendations,n=e.onChange;return o.a.createElement(Y,{label:a.a._("Personalization","BoardForm.BoardFormRecommendationToggle","form label"),labelId:"recommendation",subtext:o.a.createElement(u.R,{color:"gray",size:"lg"},a.a._("Show Pins inspired by this board in your home feed.","BoardForm.BoardFormRecommendationToggle","Caption for board settings to set visibility"))},o.a.createElement(u.N,{switched:t,id:"recommendation",name:"recommendation",onChange:n}))}function lt(e){var t=e.boardOwnerHasActiveAds,n=e.hasActiveAds,i=e.isAdAccountOwner,c=e.onChange,l=e.privacy,s=e.showConfirmation;if(!1===i)return o.a.createElement(Y,{label:a.a._("Protected board (not listed on user's profile)","BoardForm.BoardFormSecretToggle","protected board"),labelId:"protected"},o.a.createElement(u.d,{paddingY:2},o.a.createElement(u.N,{onChange:function(){},id:"protected",switched:!0,disabled:!0})));if(l!==at.a.BoardPrivacy.PROTECTED){var d=a.a._("Keep this board secret","BoardForm.BoardFormSecretToggle","Caption for board settings to set visibility"),f=o.a.createElement(r.Fragment,null,o.a.createElement(u.R,{color:"gray",size:"lg"},t?a.a._("Ads from secret boards won’t run.","BoardForm.BoardFormSecretToggle","notifying the board owner ads will not run if the board is set to secret"):a.a._("So only you and collaborators can see it.","BoardForm.BoardFormSecretToggle","notifying the board owner only they and the collaborators can see the board if it set to secret")," ",o.a.createElement(u.w,{inline:!0,target:"blank",href:Ze.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},a.a._("Learn more","BoardForm.BoardFormSecretToggle","Link to learn more about secret boards"))));return o.a.createElement(Y,{label:d,labelId:"secret",subtext:f},o.a.createElement(u.d,{display:"flex",alignItems:"center"},o.a.createElement(u.N,{switched:"secret"===l,id:"secret",name:"secret",onChange:"public"===l&&n?s:c})))}return null}function st(e){var t=e.name,n=e.nameValidatorErrors,r=e.onChange;return o.a.createElement(U,{label:a.a._("Name","BoardForm.BoardFormTitleInput","Form field label"),labelId:"boardEditName"},o.a.createElement(u.T,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:r,placeholder:a.a._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t}))}var ut=n("4dcN"),dt=n("XCz/"),ft=n("VwDf"),mt=n("c50B");function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?gt(e):t}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return St}));var Ot=function(e){return Object(mt.j)({max:e,maxErrorString:Object(s.i)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long","Validation error when a string is too long"),{maxLength:e})})},wt=function(){return[Ot(at.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION)]},Ct=function(){return[Object(mt.o)({message:a.a._("Don't forget to name your board!")}),Ot(at.a.MAX_CHARS_FOR_BOARD_TITLE)]},St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(s,e);var t,n,c,l=vt(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Et(gt(t=l.call(this,e)),"handleChangeName",(function(e){var n=e.value,r=Object(mt.r)(Ct(),n);t.setState({name:n,nameValidatorErrors:r})})),Et(gt(t),"handleChangeDescription",(function(e){var n=e.value,r=Object(mt.r)(wt(),n);t.setState({description:n,descriptionValidatorErrors:r})})),Et(gt(t),"handleChangeBoardDates",(function(e){t.setState({boardDates:e})})),Et(gt(t),"handleChangeCategory",(function(e){var n=e.value;"true"!==n&&t.setState({category:n})})),Et(gt(t),"handleChangePrivacyToggle",(function(e){var n="public";e.value&&(n=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==n&&t.setState({privacy:n})})),Et(gt(t),"handleChangePrivateToggle",(function(e){var n=e.value;t.setState({privacy:n?"secret":"public"})})),Et(gt(t),"handleEnableSecret",(function(){t.setState({privacy:"secret",showSecretConfirmation:!1})})),Et(gt(t),"handleShowSecretConfirmation",(function(){t.setState({showSecretConfirmation:!0})})),Et(gt(t),"handleHideSecretConfirmation",(function(){t.setState({showSecretConfirmation:!1})})),Et(gt(t),"handleChangeRecommendationToggle",(function(e){var n=e.value;t.setState({allowHomefeedRecommendations:n})})),Et(gt(t),"handleChangeCollabBoardEmail",(function(e){var n=e.value;t.setState({collab_board_email:n})})),Et(gt(t),"handleChangeCollaboratorInvitesEnabled",(function(e){var n=e.value;t.setState({collaboratorInvitesEnabled:n})})),Et(gt(t),"handleCancel",(function(){ut.a.trackEvent(t.props.gaCategory,"click_cancel"),t.props.onClose()})),Et(gt(t),"handleSubmit",(function(e){var n=t.props,r=n.board,o=r.event_date,i=r.event_start_date,c=n.onSubmit,l=t.state,s=l.boardDates,u=l.category,d=l.collab_board_email,f=l.collaboratorInvitesEnabled,m=l.description,p=l.name,b=l.privacy,h=l.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var v=p.trim(),y=m.trim(),g=Object(ft.a)({currentEventStartDate:s.length>1?s[0]:null,currentEventEndDate:s[1]||s[0],initialEventStartDate:i,initialEventEndDate:o}),_=g.eventEndDate,E=g.eventStartDate;t.setState({submitting:!0,submitError:""}),ut.a.trackEvent(t.props.gaCategory,"click_submit"),c({event_start_date:E,event_date:_,name:v,category:u,collab_board_email:d,collaborator_invites_enabled:f,description:y,privacy:b,allow_homefeed_recommendations:h}).then((function(){t.setState({submitting:!1})})).catch((function(e){var n=a.a._("Uh oh! Something went wrong.");if(e.message){var r=e.message,o=e.message_detail;n=o?"".concat(r," ").concat(o):r}else"string"==typeof e&&(n=e);t.setState({submitting:!1,submitError:n})}))}})),Et(gt(t),"handleShowBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!0})})),Et(gt(t),"handleHideBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!1})})),Et(gt(t),"handleSaveBoardCoverEditModal",(function(e){t.handleHideBoardCoverEditModal();var n=t.props.onCropChange;n&&n(e)}));var n=e.board,r=n.category,o=n.collab_board_email,i=n.collaborator_invites_enabled,c=n.description,u=n.event_date,d=n.event_start_date,f=n.name,m=n.pin_count,p=n.privacy,b=n.allow_homefeed_recommendations,h=[];return d&&h.push(new Date(d)),u&&h.push(new Date(u)),t.state={boardDates:h,category:r,collab_board_email:o,description:c,name:f,pin_count:m,privacy:p,allowHomefeedRecommendations:b,collaboratorInvitesEnabled:i,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showSecretConfirmation:!1,submitting:!1,previousName:f,previousDescription:c,previousCategory:r,previousPrivacy:p},t}return t=s,c=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.board.name!==t.previousName&&(n.previousName=e.board.name,n.nameValidatorErrors=Object(mt.r)(Ct(),e.board.name)),e.board.description!==t.previousDescription&&(n.previousDescription=e.board.description,n.descriptionValidatorErrors=Object(mt.r)(wt(),e.board.description)),void 0===t.category&&(n.category=e.board.category),e.board.category!==t.previousCategory&&(n.previousCategory=e.board.category),e.board.privacy!==t.previousPrivacy&&(n.previousPrivacy=e.board.privacy),n}}],(n=[{key:"getFormFooter",value:function(){var e=this.props,t=e.board.archived_by_me_at,n=e.isArchivable,i=e.isDeletable,c=e.onArchiveButtonClick,l=e.onDeleteButtonClick,s=e.onMergeButtonClick,d=e.onUnarchiveButtonClick,f=e.submitText,m=this.state,p=m.submitError,b=m.submitting;return o.a.createElement(r.Fragment,null,o.a.createElement(u.d,{alignItems:"center",display:"flex",justifyContent:"between",wrap:!0},o.a.createElement(u.d,{alignItems:"center",display:"flex"},i&&o.a.createElement(u.d,{"data-test-id":"deleteBoardButton",paddingX:1},o.a.createElement(u.e,{disabled:b,inline:!0,onClick:l,size:"lg",text:a.a._("Delete","button label during board edit","button label during board edit")})),n&&!t&&o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{disabled:b,inline:!0,onClick:c,size:"lg",text:a.a._("Archive","button label during board edit","button label during board edit")})),t&&o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{disabled:b,inline:!0,onClick:d,size:"lg",text:a.a._("Unarchive","button label during board edit","button label during board edit")})),s&&o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{disabled:b,inline:!0,onClick:s,size:"lg",text:a.a._("Merge","button label during board edit","button label during board edit")}))),o.a.createElement(u.d,null,o.a.createElement(u.d,{display:"flex"},o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.e,{color:"red",disabled:this.submitDisabled(),inline:!0,onClick:this.handleSubmit,size:"lg",text:f,type:"submit"}))))),p&&o.a.createElement(u.d,{paddingX:1},o.a.createElement(u.R,{color:"red"},p)))}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,n=e.name,r=e.nameValidatorErrors,o=e.submitting;return!n||r.length>0||t.length>0||o}},{key:"render",value:function(){var e=this,t=this.props,n=t.board,c=t.board,l=c.archived_by_me_at,s=c.board_owner_has_active_ads,d=c.collaborator_invites_enabled,f=c.cover_pin,m=c.has_active_ads,p=c.id,b=c.is_collaborative,h=c.name,v=t.categories,y=t.coverImageHeight,g=t.coverImageWidth,_=t.currentUserIsOwner,E=t.handleBoardLeave,O=t.isAdAccount,w=t.isAdAccountOwner,C=t.isEditable,S=t.isNameAndSecretView,D=t.onClose,k=t.onCollaboratorInviteClick,j=t.onToggleFlyout,I=t.title,R=this.state,B=R.allowHomefeedRecommendations,P=R.boardDates,A=R.category,T=R.collab_board_email,x=R.collaboratorInvitesEnabled,F=R.description,N=R.descriptionValidatorErrors,H=R.name,U=R.nameValidatorErrors,z=R.pin_count,q=R.privacy,W=R.showBoardCoverEdit,Y=R.showSecretConfirmation,X=C&&z>0,Q=o.a.createElement(ot,null,X&&o.a.createElement(K,{coverPin:f,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),o.a.createElement(st,{name:H,nameValidatorErrors:U,onChange:this.handleChangeName}),o.a.createElement(rt,{description:F,descriptionValidatorErrors:N,onChange:this.handleChangeDescription}),v&&o.a.createElement(dt.a,{name:"web_remove_board_categories"},(function(t){return!t.anyEnabled&&o.a.createElement(V,{categories:v,currentCategory:A||null,onChange:e.handleChangeCategory})})),o.a.createElement(nt,{boardDates:P,onChange:this.handleChangeBoardDates,onToggleFlyout:j}),_&&!!E&&!!k&&o.a.createElement($e,{board:n,currentUserIsOwner:_,handleBoardLeave:E,onCollaboratorInviteClick:k}),o.a.createElement(u.d,{marginBottom:-7},o.a.createElement(u.R,{size:"sm"},a.a._("Settings","BoardForm.BoardForm","Section heading in board edit form"))),o.a.createElement(dt.a,{name:"sterling_protected_board_by_owner",activate:!0},(function(t){return t.anyEnabled?o.a.createElement(it,{isProtectedToggler:!!O,isToggleDisable:!!O&&!w,onChange:e.handleChangePrivacyToggle,privacy:q}):o.a.createElement(lt,{boardOwnerHasActiveAds:s,hasActiveAds:m,isAdAccountOwner:w,onChange:e.handleChangePrivateToggle,privacy:q,showConfirmation:e.handleShowSecretConfirmation})})),!l&&o.a.createElement(ct,{allowHomefeedRecommendations:B,onChange:this.handleChangeRecommendationToggle}),o.a.createElement(G,{hasCollabBoardEmail:T,isCollaborative:b,onChange:this.handleChangeCollabBoardEmail}),o.a.createElement(et,{collaboratorInvitesEnabled:x,isCollaborative:b,onChange:this.handleChangeCollaboratorInvitesEnabled}));return _?S&&(Q=o.a.createElement(ot,null,o.a.createElement(st,{name:H,nameValidatorErrors:U,onChange:this.handleChangeName}),o.a.createElement(nt,{onChange:this.handleChangeBoardDates,onToggleFlyout:j}),o.a.createElement(dt.a,{name:"sterling_protected_board_by_owner",activate:!0},(function(t){return t.anyEnabled?o.a.createElement(it,{isProtectedToggler:!!O,isToggleDisable:!!O&&!w,onChange:e.handleChangePrivacyToggle,privacy:q}):o.a.createElement(lt,{boardOwnerHasActiveAds:s,hasActiveAds:m,isAdAccountOwner:!!w,onChange:e.handleChangePrivateToggle,privacy:q,showConfirmation:e.handleShowSecretConfirmation})})))):Q=o.a.createElement(ot,null,d&&!!E&&!!k&&o.a.createElement($e,{board:n,currentUserIsOwner:_,handleBoardLeave:E,onCollaboratorInviteClick:k}),o.a.createElement(G,{hasCollabBoardEmail:T,isCollaborative:b,onChange:this.handleChangeCollabBoardEmail})),o.a.createElement(r.Fragment,null,o.a.createElement(i.b,{accessibilityModalLabel:a.a._("Board form","BoardForm.BoardForm","Accessibility label on board form"),size:"sm",onDismiss:D,footer:this.getFormFooter(),heading:I},o.a.createElement(u.d,{marginEnd:"auto",marginStart:"auto",rounding:2},o.a.createElement("form",{method:"post",onSubmit:this.handleSubmit},Q))),W&&o.a.createElement(L,{boardId:p,boardName:H,coverPinId:null==f?void 0:f.pin_id,frameHeight:y,frameWidth:g,heading:"".concat(a.a._("Change Board Cover"),"/ ").concat(h),onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}),Y&&o.a.createElement(M.a,{confirmButtonLabel:a.a._("Make secret","Setting the boards visibility to secret","Setting the boards visibility to secret"),heading:a.a._("Are you sure?","Warning label asking users to be sure of their action","Warning label asking users to be sure of their action"),message:a.a._("If you make this board secret, some active ads will stop running","Explicitly warning users of the board visibility action they are doing","Explicitly warning users of the board visibility action they are doing"),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}))}}])&&bt(t.prototype,n),c&&bt(t,c),s}(r.Component);Et(St,"defaultProps",{isNameAndSecretView:!1})},oN2T:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"l",(function(){return E})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return S})),n.d(t,"k",(function(){return D})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"e",(function(){return I}));var r=n("4dcN"),o=n("Pqnw"),a=n("7w6Q"),i=n("eOdZ"),c=n("KFEb"),l=n("5FNA"),s=n("NjDU"),u=n("Wer7");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="board_create",b="board_delete",h="board_edit";function v(e,t){return Object(u.a)("BoardResource",{board_id:e,field_set_key:t})}function y(){return function(e,t){var n=t().viewer;n.isAuth&&Object(l.b)(n.username).forEach((function(t){e(t)}))}}function g(e){var t=f({},e);return function(n){return n({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",t).callCreate().then((function(e){r.a.trackEvent(p,"success");var o=e.resource_response.data;return o&&(n(y()),n(function(){return{type:"BOARD_CREATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}(t,o))),o})).catch((function(e){throw r.a.trackEvent(p,"error"),e}))}}function _(){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}function E(e){return function(t){var n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},o=f({board_id:e.id,name:e.name,description:e.description,category:e.category,event_date:e.event_date,event_start_date:e.event_start_date,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations},n);return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:o}}),i.a.create("BoardResource",o).callUpdate().then((function(n){r.a.trackEvent(h,"success");var a=n&&n.resource_response&&n.resource_response.data||e;t(_(o,a))})).catch((function(e){throw r.a.trackEvent(h,"error"),e}))}}function O(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function w(e){return function(t,n){var o=n().boards.content[e],a=o.pin_count,c=o.owner.id;return t({type:"BOARD_DELETE",payload:{boardId:e}}),i.a.create("BoardResource",{board_id:e}).callDelete().then((function(){r.a.trackEvent(b,"error"),t(O(e)),t(Object(s.b)({userId:c,increment:-a}))})).catch((function(e){throw r.a.trackEvent(b,"error"),e}))}}function C(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function S(e){return function(t){return t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callUpdate()}}function D(e){return function(t){return t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callDelete()}}function k(e,t){return function(n){return i.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((function(){return Promise.all([n(O(e)),n(v(t,"pin_count")),n(Object(o.a)(c.a.BOARD_SECTIONS,t))])}))}}function j(e,t){return function(n){return i.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((function(e){if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}var r=e.resource_response.data||{},o=((r.model||{}).custom_properties||{}).campaign_id,i=void 0===o?"unknown":o,c=r.display_data||{},l={isSocialSeasonalBoard:!!r.display_data,socialHeaderBgImage:c.header_image,socialHeaderBgColor:c.header_background_color,textIconColor:c.text_icon_color};return a.a.increment("web.seasonal_board.".concat(i,".").concat(t,".land")),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:l})}))}}function I(){return function(e){return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},"t+EM":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n("Ye/N"),a=n("3j7w"),i=n("n6mq");function c(e){var t=e.fetchMore,n=e.invites,c=e.isAtEnd,l=e.isFetching,s=e.onBoardLeave,u=e.refreshData,d=e.scroll,f=e.renderInvite;return r.createElement("div",null,d&&r.createElement(a.a,{scrollBuffer:3*d.container.clientHeight,scrollHeight:d.container.scrollHeight,scrollTop:d.top,isAtEnd:c,isFetching:l,fetchMore:t}),n.map((function(e,t){return e&&e.invited_user&&e.invited_user.id?r.createElement(i.d,{key:t},f(e,s,u)):null})),l&&!c&&r.createElement(i.K,{accessibilityLabel:o.a._("loading board invites","accessibility label for board collaborator invites loading spinner","accessibility label for board collaborator invites loading spinner"),show:!0}))}},"w/op":function(e,t,n){},zLLH:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return w}));var r=n("q1tI"),o=n("/MKj"),a=n("7w6Q"),i=(n("17x9"),n("T+ZI")),c=n("aK+E"),l=n("Wer7");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _="-end-";function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(c.a)("function"==typeof e?e(t):e)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e?e(t):e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.key;function c(t){var r,o,c,l,s={},u={fetching:s,data:s},d={};function f(i,s,u){i&&(r=i),s&&(o=s),u&&(c=u);var d=t;return r&&r.dispatch||((d=function(){for(var n,r,o,i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];var s=null==c?void 0:null===(n=c[0])||void 0===n?void 0:n.type,u=("RESOURCE_FETCH"===s||"RESOURCE_PREFETCH_READ"===s||"RESOURCE_FETCH_MORE"===s)&&(null==c?void 0:null===(r=c[0])||void 0===r?void 0:null===(o=r.payload)||void 0===o?void 0:o.name)===e.name;return u||a.a.increment("webapp.withResource.access-dispatch",.1,{dispatchArgs:JSON.stringify(c),resource:e.name,key:e.key,level:"warn"}),t.apply(void 0,c)}).originalDispatch=t),l=y(y({},r),{},g({dispatch:d},n,o),c)}return function(t,n){var o=t.resources,c=t.history,m=o.fetching,p=o.data,b=!(r&&Object(i.a)(r,n)),h=!(m===u.fetching&&p===u.data);if(!b&&!h&&l)return l;var v=E(e.options,n);if(b&&!h&&l)return f(n);var y=m[e.name]||s,g=u.fetching[e.name]||s,O=p[e.name]||s,w=u.data[e.name]||s;d[e.name]||(0===Object.keys(O).length?a.a.increment("webapp.withResource.no-cache",.05,{resource:e.name,cache_size:0,level:"warn",v:2,xFoundKeys:null,xExpectedKey:v}):v in O?a.a.increment("webapp.withResource.cache-hit",.05,{resource:e.name,cache_size:Object.keys(O).length,level:"success",v:2}):a.a.increment("webapp.withResource.populated-cache-miss",.05,{resource:e.name,cache_size:Object.keys(O).length,level:"error",v:2,xFoundKeys:JSON.stringify(Object.keys(O)),xExpectedKey:v})),d[e.name]=!0;var C=y!==g||O!==w||y[v]!==g[v]||O[v]!==w[v];if(!b&&!C&&l)return l;if(b&&!C&&l)return f(n);u={fetching:m,data:p};var S=O[v]||{},D=S.data,k=S.error,j=S.nextBookmark,I=S.isPrefetch,R=S.prefetchHasBeenRead,B=Boolean(y[v]),P=Boolean(O[v]);return f(n,{data:D,error:k,isAtEnd:P&&!B&&j===_,isFetching:B,isLoaded:P,nextBookmark:j,isPrefetch:I,prefetchHasBeenRead:R},{__internal_history:c})}}return function(a){var i=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,o);var i,c,s,p=m(h);function h(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return g(b(n=p.call.apply(p,[this].concat(o))),"state",{isRefreshing:!1}),g(b(n),"optionsKey",E(e.options,n.props)),g(b(n),"fetchDisabled",(function(e){return!!t.dangerouslyDisableFetch&&t.dangerouslyDisableFetch(e||n.props)})),g(b(n),"loadData",(function(r){n.fetchDisabled(r)||r.dispatch(Object(l.a)(e.name,O(e.options,r),t.headers))})),g(b(n),"fetchMore",(function(){var r=n.props.dispatch;n.fetchDisabled()||r(Object(l.d)(e.name,O(e.options,n.props),t.headers))})),g(b(n),"refreshData",(function(){n.fetchDisabled()||(n.loadData(n.props),n.setState({isRefreshing:!0}))})),n}return i=h,(c=[{key:"UNSAFE_componentWillMount",value:function(){var r=this.props,o=r.dispatch,a=r.enabledRouteRefreshOverride,i=r.__internal_history,c=r[n];if(c){var s="UserHomefeedResource"===e.name&&void 0!==a?a:t.enabledRouteRefresh;c.isLoaded&&s&&i.current&&"POP"!==i.current.action&&!this.fetchDisabled()?this.setState({isRefreshing:!0}):c.isLoaded&&i.current&&"POP"!==i.current.action&&t.acceptPrefetch&&c.isPrefetch&&!c.prefetchHasBeenRead&&!this.fetchDisabled()&&o(Object(l.h)(e.name,O(e.options,this.props)))}}},{key:"componentDidMount",value:function(){var e=this.props[n],r=this.state.isRefreshing;!1!==t.allowStale&&e.isLoaded&&!r||this.loadData(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var r=this.props[n],o=this.state.isRefreshing,a=E(e.options,t);a!==this.optionsKey&&(this.loadData(t),this.optionsKey=a),o&&r.data!==t[n].data&&this.setState({isRefreshing:!1})}},{key:"render",value:function(){var e=this.props[n],t=this.state.isRefreshing;e.fetchMore=this.fetchMore,e.refreshData=this.refreshData,e.isRefreshing=t;var o=this.props,i=(o.__internal_history,u(o,["__internal_history"]));return r.createElement(a,i)}}])&&d(i.prototype,c),s&&d(i,s),h}(r.Component);return g(i,"WrappedComponent",a),g(i,"displayName","WithResource[".concat(e.name,"](").concat(a.displayName||a.name||"",")")),Object(o.connectAdvanced)(c)(i)}}},zpFB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=-4}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/26-62d525ee5dde12631eb6.js.map